<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="Style.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<title>Login</title>

</head>


<body class="container d-flex justify-content-center align-items-center vh-100">





	<!-- p-3 d-flex justify-content-center align-items-center " style="height: 800px;"-->



	<div class="custom-width1 border rounded p-3 d-flex flex-column align-items-center  ">
		<div th:if="${param.error}">
			<div class="alert alert-danger">Invalid Email or Password</div>
		</div>
		<div th:if="${param.logout}">
			<div class="alert alert-success"> You have been logged out.</div>
		</div>



		<div class="mb-4">
			<h2><span class="badge bg-success bg-gradient">Pay My Buddy</span></h2>
		</div>

		<!-- Le formulaire est déclaré dans la config (SecurityFilterCHain). SPringSecurity intercepte
		la requête quand on valide le formulaire et gére le processus d'Authentification via la classe
		UserDetailsService (ici MyUserDetailsService) en appelant sa methode loadUserByUsername-->
		<form th:action="@{/login}" method="post">
		<div class="w-100 my-3">
			<div class="input-group mb-3">
				<span class="input-group-text"><i class="bi bi-envelope"></i></span>
				<input type="email"  class="form-control form-control-lg" name="username"
					placeholder="Email">
				<!--Les données entrées dans le formulaire sont envoyées. L'attribut "name" des champs du formulaire
				correspondent aux noms des paramètres passés à la methode loadUserByUsername.
				Ici Spring extrait la valeur corespondante à username et l'envoie en parametre de loadUserByUsername.
				Ma methode MyUserDetailsService va construire un objet UserDetail
				et Spring va vérifier si il correspond au mot de passe.
				 -->
			</div>

		</div>

		<div class="w-100 my-3">
			<div class="input-group ">
				<span class="input-group-text"><i class="bi bi-asterisk"></i></span>
				<input type="password" class="form-control form-control-lg " name="password"
					placeholder="Password">
			</div>
		</div>

		<div class="form-check">
			<input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
			<label class="form-check-label" for="flexCheckChecked">
				Remember me
			</label>
		</div>


		<div class="custom-height1 d-flex flex-column justify-content-end my-3">
			<button type="submit" class="btn btn-primary m-2 ">Login</button>

			<a th:href="@{/registration}">Register/Signup here</a>

		</div>
		</form>
		<a th:href="@{/registration}"><button type="button " class="btn btn-secondary m-2 ">Create new
			account</button></a>

	</div>


	<footer>

	</footer>






</body>

</html>








<!-- Site modele:
https://nicepage.com/fr/website-mockup/preview/faune-et-nature-21253?device=desktop-->